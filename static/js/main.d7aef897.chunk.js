(this.webpackJsonpunidays=this.webpackJsonpunidays||[]).push([[0],{48:function(e,a,t){e.exports=t(81)},53:function(e,a,t){},54:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(23),l=t.n(s),c=(t(53),t(7)),i=(t(54),t(4)),o=t.n(i),u=t(9),m=t(18),d=t(19),p=t(13),h=t.n(p),f={apiKey:"AIzaSyDRlJC_SV_wCL5eTDxVY24e3mHVGFJLNxg",authDomain:"unidays-3205e.firebaseapp.com",databaseURL:"https://unidays-3205e.firebaseio.com",projectId:"unidays-3205e",storageBucket:"unidays-3205e.appspot.com",messagingSenderId:"127396561143",appId:"1:127396561143:web:a032c8f3b20540fc4e53f2",measurementId:"G-6HPPCPKTZ6"};h.a.initializeApp(f),h.a.analytics();var E=t(46),v=t(42),b=t(47);function g(){var e;(e=console).log.apply(e,arguments)}var N=h.a.auth(),y=h.a.database().ref("users"),w=h.a.database().ref("vendors"),x=h.a.database().ref("deals"),k=h.a.database().ref("library"),O=function(){function e(a){Object(m.a)(this,e),this.uid=void 0,this.displayName=void 0,this.fUser=void 0,this.isAnonymous=!1,this.uid=a.uid,this.displayName=a.displayName?a.displayName:"",this.fUser=a,this.isAnonymous=this.fUser.isAnonymous}return Object(d.a)(e,[{key:"isVendor",value:function(){return!1}}],[{key:"register",value:function(){var a=Object(u.a)(o.a.mark((function a(t){var n,r,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.displayName,r=t.email,s=t.password,N.currentUser){a.next=4;break}throw N.signInAnonymously(),new Error("This is weird! Application must start with atleast an anonymous user!");case 4:return l=h.a.auth.EmailAuthProvider.credential(r,s),a.abrupt("return",N.currentUser.linkWithCredential(l).then(function(){var a=Object(u.a)(o.a.mark((function a(t){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.user){a.next=2;break}throw new Error("User should not be empty!");case 2:return s=t.user,console.log("Anonymous account successfully upgraded",s),a.next=6,s.updateProfile({displayName:n}).then((function(){return y.child(s.uid).set({displayName:n,email:r})})).catch((function(e){throw g(e),s.delete(),new Error("Could not register user!")}));case 6:return a.abrupt("return",new e(s));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(e){throw console.log("Error upgrading anonymous account",e),new Error(e.message)})));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},{key:"login",value:function(){var a=Object(u.a)(o.a.mark((function a(t,n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",N.signInWithEmailAndPassword(t,n).then((function(a){if(!a.user)throw new Error("User not found!");return new e(a.user)})).catch((function(e){var a=e.code;throw console.log(e),"auth/wrong-password"===a?new Error("Wrong password."):e})));case 1:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}]),e}(),j=function(e){function a(e,t){var n;return Object(m.a)(this,a),(n=Object(E.a)(this,Object(v.a)(a).call(this,e))).companyName=void 0,n.companyName=t,n}return Object(b.a)(a,e),Object(d.a)(a,[{key:"isVendor",value:function(){return!0}}],[{key:"register",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,s,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.companyName,r=t.displayName,s=t.email,l=t.password,N.currentUser){e.next=4;break}throw N.signInAnonymously(),new Error("This is weird! Application must start with atleast an anonymous user!");case 4:return c=h.a.auth.EmailAuthProvider.credential(s,l),e.abrupt("return",N.currentUser.linkWithCredential(c).then(function(){var e=Object(u.a)(o.a.mark((function e(t){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}throw new Error("User should not be empty!");case 2:return l=t.user,console.log("Anonymous account successfully upgraded",l),e.next=6,l.updateProfile({displayName:r}).then((function(){return w.child(l.uid).set({displayName:r,email:s,companyName:n})})).catch((function(e){throw g(e),l.delete(),new Error("Could not register vendor!")}));case 6:return e.abrupt("return",new a(l,n));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),(function(e){throw console.log("Error upgrading anonymous account",e),new Error(e.message||"Failed to register account!")})));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.signInWithEmailAndPassword(t,n).then(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}throw new Error("User not found!");case 2:return e.next=4,new Promise((function(e,a){w.child("".concat(t.user.uid,"/companyName")).once("value",(function(t){if(t.exists())return e(t.val());N.signOut(),a(new Error("Vendor account not found! Did you mean to login as a user?"))}))}));case 4:return n=e.sent,e.abrupt("return",new a(t.user,n));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){var a=e.code;throw console.log(e),"auth/wrong-password"===a?new Error("Wrong password."):e})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}]),a}(O),C={main:{background:"#001",color:"#efefef",minHeight:"100%",overflowY:"scroll",paddingTop:"3.25rem"},level1:{background:"#222"},header:{background:"#353545",color:"#fefefe",boxShadow:"#2228 0 1px 0.1em 0.1em"},footer:{padding:"1em",color:"#555"}},P=function(){function e(a){Object(m.a)(this,e),this.context=void 0,this.useMock=!0,this.context=a}return Object(d.a)(e,[{key:"getMyDeals",value:function(){var e=Object(u.a)(o.a.mark((function e(){var a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.signedIn()){e.next=2;break}return e.abrupt("return",[]);case 2:if(!this.useMock){e.next=4;break}return e.abrupt("return",L);case 4:return e.next=6,new Promise((function(e){k.child("".concat(a.context.user.uid)).on("value",function(){var a=Object(u.a)(o.a.mark((function a(t){var n,r,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.exists()){a.next=2;break}return a.abrupt("return",e([]));case 2:for(s in n=t.val(),console.log(n),r=[],n)l=n[s],r.push(l);return a.abrupt("return",e(r));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDeals",value:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.useMock){e.next=2;break}return e.abrupt("return",L);case 2:return e.next=4,x.once("value").then(function(){var e=Object(u.a)(o.a.mark((function e(a){var t,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.exists()){e.next=2;break}return e.abrupt("return",[]);case 2:for(r in t=a.val(),console.log("all deals",t),n=[],t)s=t[r],n.push(s);return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addDeal",value:function(){var e=Object(u.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.signedIn()&&this.context.user.isVendor()){e.next=2;break}throw new Error("You are not authorized to create deals!");case 2:return e.prev=2,e.next=5,x.push();case 5:if(!(t=e.sent).key){e.next=14;break}return a.id=t.key,a.author.id=this.context.user.uid,e.next=11,t.set(a);case 11:return e.abrupt("return",a);case 14:throw new Error("Creation Failed!");case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(2),console.log(e.t0),e.t0;case 21:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(a){return e.apply(this,arguments)}}()}]),e}(),L=[{id:"11",author:{id:"dsdusdsdusudsdusdsuds",CompanyName:"Dominos Pizza"},description:"Test deals spooled by me##",title:"30% off any purchase",value:30,inStore:!0},{id:"12",author:{id:"dsdusdsdusudsdusdsuds",CompanyName:"Taxify"},description:"Walk in to any store and get these deals in november only",title:"50% off any purchase",value:30,inStore:!0},{id:"13",author:{id:"dsdusdsdusudsdusdsuds",CompanyName:"FilmHouse Cinemas"},description:"Test deals spooled by me##",title:"80% off any purchase",value:30},{id:"14",author:{id:"dsdusdsdusudsdusdsuds",CompanyName:"Microsoft"},description:"Test deals spooled by me##",title:"30% off any purchase",value:30}];g(f);var S=new(function(){function e(){var a=this;Object(m.a)(this,e),this.name="My Student Deal",this.description="Bringing the most exciting shopping discounts and deals to students worldwide!",this.version="0.0.1",this.theme=C,this.user=void 0,this.dealMan=void 0,this._isReady=void 0,document.title=this.name,this.dealMan=new P(this),this._isReady=new Promise((function(e){N.onAuthStateChanged((function(t){t?t.isAnonymous?(console.log("Anonymous user created",t),a.user=new O(t)):(console.log("currently signedin as ",t.displayName),a.user=new O(t)):(a.user=void 0,a.user||N.signInAnonymously()),e(!0)}))}))}return Object(d.a)(e,[{key:"isReady",value:function(){return this._isReady}},{key:"signedIn",value:function(){return this.user&&!this.user.isAnonymous}},{key:"loginStudent",value:function(e){var a=this;return O.login(e.email,e.password).then((function(e){return a.user=e,a}))}},{key:"loginVendor",value:function(e){var a=this;return j.login(e.email,e.password).then((function(e){return a.user=e,a}))}},{key:"registerUser",value:function(e){var a=this;return O.register(e).then((function(e){a.user=e}))}},{key:"registerVendor",value:function(e){var a=this;return j.register(e).then((function(e){a.user=e}))}},{key:"logout",value:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.user){e.next=5;break}return this.user=void 0,e.next=4,N.signOut();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVendorCount",value:function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.databaseURL,"/vendors.json?shallow=true"));case 2:return e.next=4,e.sent.json();case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",0);case 7:return e.abrupt("return",Object.keys(a).length);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),D=Object(n.createContext)(S),I=t(6),z=t(15),T=t(20),A=t(5),V={Transport:"/deals/transport",Fashion:"/deals/fashion",LifeStyle:"/deals/lifestyle",Technology:"/deals/tech",deals:"/deals",myDeals:"/mydeals",profile:"/user/view"};function M(e){var a=e.hideMenu,t=Object(n.useContext)(D),s=r.a.useState(!1),l=Object(c.a)(s,2),i=l[0],o=l[1];return a?r.a.createElement("nav",{className:"navbar is-centered is-unselectable is-fixed-top is-black",style:t.theme.header},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("span",{className:"navbar-item has-text-weight-bold"},t.name))):r.a.createElement("nav",{className:"navbar is-centered is-unselectable is-fixed-top is-black",style:t.theme.header},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("span",{className:"navbar-item has-text-weight-bold"},t.name),r.a.createElement("span",{onClick:function(){var e=!i;o(e),!0===e&&setTimeout((function(){return o(!1)}),1e4)},className:"navbar-burger burger ".concat(i?"is-active":"")},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:"navbar-menu ".concat(i?"is-active":"")},r.a.createElement("div",{className:"navbar-start"},t.signedIn()?r.a.createElement(I.b,{activeClassName:"is-active",exact:!0,to:V.myDeals,className:"navbar-item"},r.a.createElement(A.q,null),"\u2003My Deals"):r.a.createElement(I.b,{activeClassName:"is-active",exact:!0,to:"/",className:"navbar-item"},r.a.createElement(A.h,null),"\u2003Home"),r.a.createElement(I.b,{activeClassName:"is-active",exact:!0,to:V.deals,className:"navbar-item"},r.a.createElement(A.m,null),"\xa0 Deals")),r.a.createElement("div",{className:"navbar-end"},t.signedIn()?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-item"}),r.a.createElement(I.b,{title:"View profile",activeClassName:"is-active",exact:!0,to:V.profile,className:"navbar-item"},r.a.createElement(A.p,null),"\u2003Hello ",t.user.displayName,"!")):null,r.a.createElement("div",{className:"navbar-item"},t.signedIn()?r.a.createElement(I.b,{title:"Logout",activeClassName:"is-active",exact:!0,to:"/".concat(t.user.isVendor()?"vendor":"user","/logout"),className:"is-danger button"},r.a.createElement(A.k,null),"\u2003Logout"):r.a.createElement("div",{className:"field is-grouped is-uppercase"},r.a.createElement("p",{className:"control"},r.a.createElement(I.b,{title:"Login to student portal",activeClassName:"is-active",exact:!0,to:"/user/login",className:"is-primary button"},r.a.createElement(A.j,null),"\u2003Student")),r.a.createElement("p",{className:"control"},r.a.createElement(I.b,{title:"Login to vendor portal!",activeClassName:"is-active",exact:!0,to:"/vendor/login",className:"is-link button"},r.a.createElement(A.a,null),"\u2003Vendor")))))))}function U(){return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"hero is-black is-bold is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container notification has-text-centered",style:e.theme.level1},r.a.createElement(A.e,{size:50,className:"has-text-warning"}),r.a.createElement("p",{className:"title is-uppercase"}," Page Not Found!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(I.b,{to:"/",className:"button is-danger is-outlined"},"Go to Homepage!")))))}))}var F=t(17),R=function(){var e=Object(n.useContext)(D),a=r.a.useState(0),t=Object(c.a)(a,2),s=t[0],l=t[1];if(e.signedIn())return r.a.createElement(z.a,{to:V.myDeals});return e.getVendorCount().then((function(e){return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=setInterval((function(){if(e!==s){var n=s+a;n>e?(l(e),clearInterval(t)):l(n)}else clearInterval(t)}),Math.max(Math.ceil(e/a)),0)}(e)})),r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"hero is-fullheight is-light is-bold"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title has-text-weight-bold is-2"},"Welcome to ",e.name),r.a.createElement("p",{className:"subtitle"},e.description)))),r.a.createElement("div",{className:"hero is-medium is-primary is-bold"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title is-capitalized"},"Gain access to thousands of great student discounts!"),r.a.createElement("div",{className:"tile is-ancestor section"},r.a.createElement(I.b,{to:V.Fashion,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(F.c,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Fashion"))),r.a.createElement(I.b,{to:V.Technology,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(F.d,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Technology"))),r.a.createElement(I.b,{to:V.Transport,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(F.a,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Transportation"))),r.a.createElement(I.b,{to:V.LifeStyle,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(F.b,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Events & Lifestyle"))))))),r.a.createElement("div",{className:"hero is-medium is-dark"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement(F.e,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle"},"Vendors Registered"),r.a.createElement("p",{className:"title has-text-weight-bold is-1"},s)))))},W=function(){return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("footer",{className:"footer",style:e.theme.footer},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("p",null,"Copyright \xa9 ",e.name," ",(new Date).getFullYear()," ")))}))},q=t(45);function H(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function G(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?H(t,!0).forEach((function(a){Object(q.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var J=function(e){var a=e.redirectPath,t=e.registerPath,n=e.onLogin,s=r.a.useState({error:null,email:"",password:"",isLoading:!1}),l=Object(c.a)(s,2),i=l[0],o=l[1],u=r.a.useState(!1),m=Object(c.a)(u,2),d=m[0],p=m[1],h=r.a.useState(!1),f=Object(c.a)(h,2),E=f[0],v=f[1],b=Object(T.useToasts)().addToast;return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),o(G({},i,{isLoading:!0})),n(i).then((function(){return console.log("login success"),b("Login Success!",{appearance:"success",autoDismiss:!0}),o(G({},i,{isLoading:!1})),v(!0)})).catch((function(e){o(G({},i,{isLoading:!1,error:e.message}))}))}},E?r.a.createElement(z.a,{to:a}):null,r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"card-content"},i.error?r.a.createElement("div",{className:"notification is-warning"},r.a.createElement(A.d,null)," ",i.error):null,r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Email")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"email",value:i.email,onChange:function(e){return o(G({},i,{email:e.target.value}))},className:"input",type:"email",placeholder:"Enter email address"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(A.c,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Password")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("p",{className:"control is-expanded"},r.a.createElement("input",{required:!0,name:"password",value:i.password,onChange:function(e){return o(G({},i,{password:e.target.value}))},className:"input",type:d?"text":"password"})),r.a.createElement("p",{className:"control"},r.a.createElement("button",{tabIndex:-1,type:"button",className:"button",onClick:function(){return p(!d)}},d?r.a.createElement(A.g,null):r.a.createElement(A.f,null)))))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",className:"is-success button ".concat(i.isLoading?"is-loading":""),disabled:i.isLoading},"Login")))),r.a.createElement("footer",{className:"card-footer is-unselectable"},r.a.createElement(I.b,{to:t,exact:!0,className:"card-footer-item"},"Create New Account"))))}))},Y=function(e){var a=e.redirectPath,t=e.onRegister,n=e.vendor,s=e.loginPath,l=r.a.useState({error:"",email:"",password:"",passwordVerify:"",isLoading:!1,showPassword:!1,displayName:"",companyName:""}),i=Object(c.a)(l,2),o=i[0],u=i[1],m=Object(T.useToasts)().addToast,d=r.a.useState(!1),p=Object(c.a)(d,2),h=p[0],f=p[1];return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),o.password!==o.passwordVerify)return u(G({},o,{error:"Passwords do not match!"}));u(G({},o,{isLoading:!0})),t(o).then((function(){return m("Registration Success!",{appearance:"success",autoDismiss:!0}),u(G({},o,{isLoading:!1})),f(!0)})).catch((function(e){u(G({},o,{isLoading:!1,error:e.message}))}))}},h?r.a.createElement(z.a,{to:a}):null,r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"card-content"},o.error?r.a.createElement("div",{className:"notification is-warning"},r.a.createElement(A.d,null)," ",o.error):null,n?r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Company Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"companyname",value:o.companyName,onChange:function(e){return u(G({},o,{companyName:e.target.value}))},className:"input",type:"text",placeholder:"Enter company name"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(A.a,null)))))):null,r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"name",value:o.displayName,onChange:function(e){return u(G({},o,{displayName:e.target.value}))},className:"input",type:"person",placeholder:"Enter your fullname"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(A.o,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Email")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"email",value:o.email,onChange:function(e){return u(G({},o,{email:e.target.value}))},className:"input",type:"email",placeholder:"Enter email address"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(A.c,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Password")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("p",{className:"control is-expanded has-icons-left"},r.a.createElement("input",{required:!0,name:"password",value:o.password,onChange:function(e){return u(G({},o,{password:e.target.value}))},className:"input",type:o.showPassword?"text":"password"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(A.i,null))),r.a.createElement("p",{className:"control"},r.a.createElement("button",{disabled:o.isLoading,tabIndex:-1,className:"button",type:"button",onClick:function(){return u(G({},o,{showPassword:!o.showPassword}))}},o.showPassword?r.a.createElement(A.g,null):r.a.createElement(A.f,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Confirm Password")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"password",value:o.passwordVerify,onChange:function(e){return u(G({},o,{passwordVerify:e.target.value}))},className:"input",type:o.showPassword?"text":"password"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(A.i,null)))))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",className:"is-success button ".concat(o.isLoading?"is-loading":""),disabled:o.isLoading},"Join")))),r.a.createElement("footer",{className:"card-footer"},r.a.createElement(I.b,{to:s,exact:!0,className:"card-footer-item"},"Login with existing account"))))}))},_=function(){return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Login with username and password"),r.a.createElement("div",{className:"section"},r.a.createElement(J,{onLogin:function(a){return e.loginStudent(a)},redirectPath:"/",registerPath:"/user/register"}))))}))},B=function(){return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Login with username and password"),r.a.createElement("div",{className:"section"},r.a.createElement(J,{onLogin:function(a){return e.loginVendor(a)},redirectPath:"/",registerPath:"/vendor/register"}))))}))},K=function(){return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Create a new account"),r.a.createElement("div",{className:"section"},r.a.createElement(Y,{onRegister:function(a){return e.registerUser(a)},redirectPath:"/",loginPath:"/user/login"}))))}))},Z=function(){return r.a.createElement(D.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Create a new vendor account"),r.a.createElement("div",{className:"section"},r.a.createElement(Y,{vendor:!0,onRegister:function(a){return e.registerVendor(a)},redirectPath:"/",loginPath:"/vendor/login"}))))}))},$=function(){var e=Object(n.useContext)(D),a=Object(n.useState)(!0),t=Object(c.a)(a,2),s=t[0],l=t[1];return e.signedIn()?(e.logout().then((function(){return l(!1)})),r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"section container"},r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"hero is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("h2",{className:"is-title is-size-2"},"Thank you for using ",e.name,"!"),s?r.a.createElement("progress",{className:"progress is-small is-info",max:"100"},"loading..."):null)))))):r.a.createElement(z.a,{to:"/"})},Q=function(){var e=Object(n.useContext)(D),a=Object(n.useState)(X[Math.round(Math.random()*X.length)%X.length]),t=Object(c.a)(a,2),s=t[0],l=t[1],i=setInterval((function(){return l(X[Math.round(Math.random()*X.length)%X.length])}),2e3);return Object(n.useEffect)((function(){return function(){clearInterval(i)}})),r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,{hideMenu:!0}),r.a.createElement("div",{className:"hero is-fullheight is-black is-bold"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title has-text-weight-bold is-2"},"Welcome to ",e.name),r.a.createElement("p",{className:"subtitle"},e.description),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"subtitle"},s),r.a.createElement("progress",{className:"progress is-small is-info",max:"100"},"loading")))))},X=["Contacting Mothership...","Configuring Defences...","Loading..."],ee=function(){var e=Object(n.useContext)(D);return e.signedIn()?r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section"}))):r.a.createElement(z.a,{to:"/"})},ae=function(){var e=Object(n.useContext)(D),a=Object(n.useState)([]),t=Object(c.a)(a,2),s=t[0],l=t[1];return e.dealMan.getDeals().then((function(e){return l(e)})),r.a.createElement("div",{style:e.theme.main},r.a.createElement(M,null),r.a.createElement("div",{className:"container is-fluid"},r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"columns is-multiline"},s.map((function(e){return r.a.createElement("div",{className:"column is-6-tablet-only is-4 is-12-mobile"},r.a.createElement(te,{deal:e,key:e.id}))}))))))},te=function(e){var a=e.deal;Object(n.useContext)(D);return r.a.createElement("div",{className:"card"},a.cover?r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"}))):null,r.a.createElement("div",{className:"card-content has-text-centered"},r.a.createElement("p",{className:"title"},a.title),r.a.createElement("p",{className:"subtitle is-6"},a.description),r.a.createElement("div",{className:"content"},r.a.createElement(I.b,{className:"button is-success is-outlined",to:"/deals/view/".concat(a.id)},r.a.createElement(F.f,null),"\xa0 Get Deal")),r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-6"},r.a.createElement(F.e,null)," ",a.author.CompanyName),r.a.createElement("p",{className:"subtitle tags"},r.a.createElement("span",{className:"tag ".concat(a.inStore?"is-primary":"is-link")},a.inStore?r.a.createElement(r.a.Fragment,null,r.a.createElement(A.l,null),"\xa0 instore"):r.a.createElement(r.a.Fragment,null,r.a.createElement(A.b,null),"\xa0 online")))))))},ne=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],s=a[1],l=Object(n.useState)(navigator.onLine),i=Object(c.a)(l,2),o=i[0],u=i[1],m=Object(T.useToasts)().addToast;return window.onoffline=function(){o&&(console.log("lagbaja"),u(!1),m("You are offline!",{appearance:"warning",autoDismiss:!1}))},window.ononline=function(){o||(u(!0),m(r.a.createElement("p",null,"Welcome back to the Internet \xa0",r.a.createElement(A.n,null)),{appearance:"info",autoDismiss:!1}))},r.a.createElement(D.Provider,{value:S},r.a.createElement(D.Consumer,null,(function(e){return e.isReady().then((function(e){return s(e)})),r.a.createElement(I.a,{basename:"/deals"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.d,null,r.a.createElement(z.b,{strict:!0,exact:!0,path:"deals/view/:id",component:U}),r.a.createElement(z.b,{strict:!0,exact:!0,path:V.deals,component:ae}),r.a.createElement(z.b,{strict:!0,exact:!0,path:V.myDeals,component:ee}),r.a.createElement(z.b,{strict:!0,exact:!0,path:"/vendor/register",component:Z}),r.a.createElement(z.b,{strict:!0,exact:!0,path:"/user/register",component:K}),r.a.createElement(z.b,{strict:!0,exact:!0,path:"/vendor/login",component:B}),r.a.createElement(z.b,{strict:!0,exact:!0,path:"/user/login",component:_}),r.a.createElement(z.b,{strict:!0,exact:!0,path:"/:user/logout",component:$}),r.a.createElement(z.b,{strict:!0,exact:!0,path:"/",component:R}),r.a.createElement(z.b,{component:U})),r.a.createElement(W,null)):r.a.createElement(Q,null))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T.ToastProvider,{placement:"bottom-center"},r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.d7aef897.chunk.js.map