(this.webpackJsonpunidays=this.webpackJsonpunidays||[]).push([[0],{48:function(e,a,t){e.exports=t(81)},53:function(e,a,t){},54:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(20),l=t.n(s),c=(t(53),t(8)),i=(t(54),t(6)),o=t.n(i),m=t(12),u=t(21),d=t(22),p=t(16),h=t.n(p),E={apiKey:"AIzaSyDRlJC_SV_wCL5eTDxVY24e3mHVGFJLNxg",authDomain:"unidays-3205e.firebaseapp.com",databaseURL:"https://unidays-3205e.firebaseio.com",projectId:"unidays-3205e",storageBucket:"unidays-3205e.appspot.com",messagingSenderId:"127396561143",appId:"1:127396561143:web:a032c8f3b20540fc4e53f2",measurementId:"G-6HPPCPKTZ6"};h.a.initializeApp(E),h.a.analytics();var f=t(46),v=t(42),b=t(47);function g(){var e;(e=console).log.apply(e,arguments)}var N=h.a.auth(),y=h.a.database().ref("users"),w=h.a.database().ref("vendors"),x=function(){function e(a){Object(u.a)(this,e),this.uid=void 0,this.displayName=void 0,this.fUser=void 0,this.isAnonymous=!1,this.uid=a.uid,this.displayName=a.displayName?a.displayName:"",this.fUser=a,this.isAnonymous=this.fUser.isAnonymous}return Object(d.a)(e,[{key:"isVendor",value:function(){return!1}}],[{key:"register",value:function(){var a=Object(m.a)(o.a.mark((function a(t){var n,r,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.displayName,r=t.email,s=t.password,N.currentUser){a.next=4;break}throw N.signInAnonymously(),new Error("This is weird! Application must start with atleast an anonymous user!");case 4:return l=h.a.auth.EmailAuthProvider.credential(r,s),a.abrupt("return",N.currentUser.linkWithCredential(l).then(function(){var a=Object(m.a)(o.a.mark((function a(t){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.user){a.next=2;break}throw new Error("User should not be empty!");case 2:return s=t.user,console.log("Anonymous account successfully upgraded",s),a.next=6,s.updateProfile({displayName:n}).then((function(){return y.child(s.uid).set({displayName:n,email:r})})).catch((function(e){throw g(e),s.delete(),new Error("Could not register user!")}));case 6:return a.abrupt("return",new e(s));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(e){throw console.log("Error upgrading anonymous account",e),new Error(e.message)})));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},{key:"login",value:function(){var a=Object(m.a)(o.a.mark((function a(t,n){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",N.signInWithEmailAndPassword(t,n).then((function(a){if(!a.user)throw new Error("User not found!");return new e(a.user)})).catch((function(e){var a=e.code;throw console.log(e),"auth/wrong-password"===a?new Error("Wrong password."):e})));case 1:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}]),e}(),k=function(e){function a(e,t){var n;return Object(u.a)(this,a),(n=Object(f.a)(this,Object(v.a)(a).call(this,e))).companyName=void 0,n.companyName=t,n}return Object(b.a)(a,e),Object(d.a)(a,[{key:"isVendor",value:function(){return!0}}],[{key:"register",value:function(){var e=Object(m.a)(o.a.mark((function e(t){var n,r,s,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.companyName,r=t.displayName,s=t.email,l=t.password,N.currentUser){e.next=4;break}throw N.signInAnonymously(),new Error("This is weird! Application must start with atleast an anonymous user!");case 4:return c=h.a.auth.EmailAuthProvider.credential(s,l),e.abrupt("return",N.currentUser.linkWithCredential(c).then(function(){var e=Object(m.a)(o.a.mark((function e(t){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}throw new Error("User should not be empty!");case 2:return l=t.user,console.log("Anonymous account successfully upgraded",l),e.next=6,l.updateProfile({displayName:r}).then((function(){return w.child(l.uid).set({displayName:r,email:s,companyName:n})})).catch((function(e){throw g(e),l.delete(),new Error("Could not register vendor!")}));case 6:return e.abrupt("return",new a(l,n));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),(function(e){throw console.log("Error upgrading anonymous account",e),new Error(e.message||"Failed to register account!")})));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(m.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.signInWithEmailAndPassword(t,n).then(function(){var e=Object(m.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user){e.next=2;break}throw new Error("User not found!");case 2:return e.next=4,new Promise((function(e,a){w.child("".concat(t.user.uid,"/companyName")).once("value",(function(t){if(t.exists())return e(t.val());N.signOut(),a(new Error("Vendor account not found! Did you mean to login as a user?"))}))}));case 4:return n=e.sent,e.abrupt("return",new a(t.user,n));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){var a=e.code;throw console.log(e),"auth/wrong-password"===a?new Error("Wrong password."):e})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}]),a}(x),O={main:{background:"#001",color:"#efefef",minHeight:"100%",overflowY:"scroll",paddingTop:"3.25rem"},level1:{background:"#222"},header:{background:"#353545",color:"#fefefe",boxShadow:"#2228 0 1px 0.1em 0.1em"},footer:{padding:"1em",color:"#555"}};g(E);var j=new(function(){function e(){var a=this;Object(u.a)(this,e),this.name="My Student Deal",this.description="Bringing the most exciting shopping discounts and deals to students globally!",this.version="0.0.1",this.theme=O,this.user=void 0,this._isReady=void 0,document.title=this.name,this._isReady=new Promise((function(e){N.onAuthStateChanged((function(t){t?t.isAnonymous?(console.log("Anonymous user created",t),a.user=new x(t)):(console.log("currently signedin as ",t.displayName),a.user=new x(t)):(a.user=void 0,a.user||N.signInAnonymously()),e(!0)}))}))}return Object(d.a)(e,[{key:"isReady",value:function(){return this._isReady}},{key:"signedIn",value:function(){return this.user&&!this.user.isAnonymous}},{key:"loginStudent",value:function(e){var a=this;return x.login(e.email,e.password).then((function(e){return a.user=e,a}))}},{key:"loginVendor",value:function(e){var a=this;return k.login(e.email,e.password).then((function(e){return a.user=e,a}))}},{key:"registerUser",value:function(e){var a=this;return x.register(e).then((function(e){a.user=e}))}},{key:"registerVendor",value:function(e){var a=this;return k.register(e).then((function(e){a.user=e}))}},{key:"logout",value:function(){var e=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.user){e.next=5;break}return this.user=void 0,e.next=4,N.signOut();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVendorCount",value:function(){var e=Object(m.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E.databaseURL,"/vendors.json?shallow=true"));case 2:return e.next=4,e.sent.json();case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",0);case 7:return e.abrupt("return",Object.keys(a).length);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),C=Object(n.createContext)(j),P=t(5),L=t(14),S=t(23),z=t(4);function A(e){var a=e.hideMenu,t=Object(n.useContext)(C),s=r.a.useState(!1),l=Object(c.a)(s,2),i=l[0],o=l[1];return a?r.a.createElement("nav",{className:"navbar is-centered is-unselectable is-fixed-top is-black",style:t.theme.header},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("span",{className:"navbar-item has-text-weight-bold"},t.name))):r.a.createElement("nav",{className:"navbar is-centered is-unselectable is-fixed-top is-black",style:t.theme.header},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("span",{className:"navbar-item has-text-weight-bold"},t.name),r.a.createElement("span",{onClick:function(){var e=!i;o(e),!0===e&&setTimeout((function(){return o(!1)}),1e4)},className:"navbar-burger burger ".concat(i?"is-active":"")},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:"navbar-menu ".concat(i?"is-active":"")},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(P.b,{activeClassName:"is-active",exact:!0,to:"/",className:"navbar-item"},r.a.createElement(z.g,null),"\u2003Home"),r.a.createElement(P.b,{activeClassName:"is-active",exact:!0,to:"/all",className:"navbar-item"},r.a.createElement(z.k,null),"\xa0 Deals"),t.signedIn()?r.a.createElement(P.b,{activeClassName:"is-active",exact:!0,to:"/mydeals",className:"navbar-item"},r.a.createElement(z.n,null),"\u2003My Deals"):null),r.a.createElement("div",{className:"navbar-end"},t.signedIn()?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar-item"},r.a.createElement("p",null,"Hello ",t.user.displayName,"!")),r.a.createElement(P.b,{title:"Login to vendor portal!",activeClassName:"is-active",exact:!0,to:"/vendor/login",className:"navbar-item"},r.a.createElement(z.m,null),"\u2003Profile")):null,r.a.createElement("div",{className:"navbar-item"},t.signedIn()?r.a.createElement(P.b,{title:"Logout",activeClassName:"is-active",exact:!0,to:"/".concat(t.user.isVendor()?"vendor":"user","/logout"),className:"is-danger button"},r.a.createElement(z.j,null),"\u2003Logout"):r.a.createElement("div",{className:"field is-grouped is-uppercase"},r.a.createElement("p",{className:"control"},r.a.createElement(P.b,{title:"Login to student portal",activeClassName:"is-active",exact:!0,to:"/user/login",className:"is-primary button"},r.a.createElement(z.i,null),"\u2003Student")),r.a.createElement("p",{className:"control"},r.a.createElement(P.b,{title:"Login to vendor portal!",activeClassName:"is-active",exact:!0,to:"/vendor/login",className:"is-link button"},r.a.createElement(z.a,null),"\u2003Vendor")))))))}function I(){return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"hero is-black is-bold is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container notification has-text-centered",style:e.theme.level1},r.a.createElement(z.d,{size:50,className:"has-text-warning"}),r.a.createElement("p",{className:"title is-uppercase"}," Page Not Found!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.b,{to:"/",className:"button is-danger is-outlined"},"Go to Homepage!")))))}))}var V=t(18),D="/deals/transport",U="/deals/fashion",T="/deals/lifestyle",R="/deals/tech",W=function(){var e=Object(n.useContext)(C),a=r.a.useState(0),t=Object(c.a)(a,2),s=t[0],l=t[1];return e.getVendorCount().then((function(e){return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=setInterval((function(){if(e!==s){var n=s+a;n>e?(l(e),clearInterval(t)):l(n)}else clearInterval(t)}),Math.max(Math.ceil(e/a)),0)}(e)})),r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"hero is-fullheight is-light is-bold"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title has-text-weight-bold is-2"},"Welcome to ",e.name),r.a.createElement("p",{className:"subtitle"},e.description)))),r.a.createElement("div",{className:"hero is-medium is-primary is-bold"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title is-capitalized"},"Gain access to thousands of great student discounts!"),r.a.createElement("div",{className:"tile is-ancestor section"},r.a.createElement(P.b,{to:U,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(V.c,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Fashion"))),r.a.createElement(P.b,{to:R,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(V.d,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Technology"))),r.a.createElement(P.b,{to:D,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(V.a,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Transportation"))),r.a.createElement(P.b,{to:T,className:"tile is-parent"},r.a.createElement("div",{className:"tile is-child box"},r.a.createElement(V.b,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle has-text-black has-text-weight-bold"},"Events & Lifestyle"))))))),r.a.createElement("div",{className:"hero is-medium is-dark"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement(V.e,{className:"is-size-1"}),r.a.createElement("p",{className:"subtitle"},"Vendors Registered"),r.a.createElement("p",{className:"title has-text-weight-bold is-1"},s)))))},q=function(){return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("footer",{className:"footer",style:e.theme.footer},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("p",null,"Copyright \xa9 ",e.name," ",(new Date).getFullYear()," ")))}))},F=t(45);function H(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?H(t,!0).forEach((function(a){Object(F.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var J=function(e){var a=e.redirectPath,t=e.registerPath,n=e.onLogin,s=r.a.useState({error:null,email:"",password:"",isLoading:!1}),l=Object(c.a)(s,2),i=l[0],o=l[1],m=r.a.useState(!1),u=Object(c.a)(m,2),d=u[0],p=u[1],h=r.a.useState(!1),E=Object(c.a)(h,2),f=E[0],v=E[1],b=Object(S.useToasts)().addToast;return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),o(M({},i,{isLoading:!0})),n(i).then((function(){return console.log("login success"),b("Login Success!",{appearance:"success",autoDismiss:!0}),o(M({},i,{isLoading:!1})),v(!0)})).catch((function(e){o(M({},i,{isLoading:!1,error:e.message}))}))}},f?r.a.createElement(L.a,{to:a}):null,r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"card-content"},i.error?r.a.createElement("div",{className:"notification is-warning"},r.a.createElement(z.c,null)," ",i.error):null,r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Email")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"email",value:i.email,onChange:function(e){return o(M({},i,{email:e.target.value}))},className:"input",type:"email",placeholder:"Enter email address"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(z.b,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Password")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("p",{className:"control is-expanded"},r.a.createElement("input",{required:!0,name:"password",value:i.password,onChange:function(e){return o(M({},i,{password:e.target.value}))},className:"input",type:d?"text":"password"})),r.a.createElement("p",{className:"control"},r.a.createElement("button",{tabIndex:-1,type:"button",className:"button",onClick:function(){return p(!d)}},d?r.a.createElement(z.f,null):r.a.createElement(z.e,null)))))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",className:"is-success button ".concat(i.isLoading?"is-loading":""),disabled:i.isLoading},"Login")))),r.a.createElement("footer",{className:"card-footer is-unselectable"},r.a.createElement(P.b,{to:t,exact:!0,className:"card-footer-item"},"Create New Account"))))}))},_=function(e){var a=e.redirectPath,t=e.onRegister,n=e.vendor,s=e.loginPath,l=r.a.useState({error:"",email:"",password:"",passwordVerify:"",isLoading:!1,showPassword:!1,displayName:"",companyName:""}),i=Object(c.a)(l,2),o=i[0],m=i[1],u=Object(S.useToasts)().addToast,d=r.a.useState(!1),p=Object(c.a)(d,2),h=p[0],E=p[1];return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),o.password!==o.passwordVerify)return m(M({},o,{error:"Passwords do not match!"}));m(M({},o,{isLoading:!0})),t(o).then((function(){return u("Registration Success!",{appearance:"success",autoDismiss:!0}),m(M({},o,{isLoading:!1})),E(!0)})).catch((function(e){m(M({},o,{isLoading:!1,error:e.message}))}))}},h?r.a.createElement(L.a,{to:a}):null,r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"card-content"},o.error?r.a.createElement("div",{className:"notification is-warning"},r.a.createElement(z.c,null)," ",o.error):null,n?r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Company Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"companyname",value:o.companyName,onChange:function(e){return m(M({},o,{companyName:e.target.value}))},className:"input",type:"text",placeholder:"Enter company name"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(z.a,null)))))):null,r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"name",value:o.displayName,onChange:function(e){return m(M({},o,{displayName:e.target.value}))},className:"input",type:"person",placeholder:"Enter your fullname"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(z.l,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Email")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"email",value:o.email,onChange:function(e){return m(M({},o,{email:e.target.value}))},className:"input",type:"email",placeholder:"Enter email address"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(z.b,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Password")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("p",{className:"control is-expanded has-icons-left"},r.a.createElement("input",{required:!0,name:"password",value:o.password,onChange:function(e){return m(M({},o,{password:e.target.value}))},className:"input",type:o.showPassword?"text":"password"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(z.h,null))),r.a.createElement("p",{className:"control"},r.a.createElement("button",{disabled:o.isLoading,tabIndex:-1,className:"button",type:"button",onClick:function(){return m(M({},o,{showPassword:!o.showPassword}))}},o.showPassword?r.a.createElement(z.f,null):r.a.createElement(z.e,null)))))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label"},"Confirm Password")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{required:!0,name:"password",value:o.passwordVerify,onChange:function(e){return m(M({},o,{passwordVerify:e.target.value}))},className:"input",type:o.showPassword?"text":"password"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(z.h,null)))))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",className:"is-success button ".concat(o.isLoading?"is-loading":""),disabled:o.isLoading},"Join")))),r.a.createElement("footer",{className:"card-footer"},r.a.createElement(P.b,{to:s,exact:!0,className:"card-footer-item"},"Login with existing account"))))}))},B=function(){return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Login with username and password"),r.a.createElement("div",{className:"section"},r.a.createElement(J,{onLogin:function(a){return e.loginStudent(a)},redirectPath:"/",registerPath:"/user/register"}))))}))},G=function(){return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Login with username and password"),r.a.createElement("div",{className:"section"},r.a.createElement(J,{onLogin:function(a){return e.loginVendor(a)},redirectPath:"/",registerPath:"/vendor/register"}))))}))},Y=function(){return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Create a new account"),r.a.createElement("div",{className:"section"},r.a.createElement(_,{onRegister:function(a){return e.registerUser(a)},redirectPath:"/",loginPath:"/user/login"}))))}))},K=function(){return r.a.createElement(C.Consumer,null,(function(e){return r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"section container"},r.a.createElement("h2",{className:"is-title is-size-2 has-text-centered"},"Create a new vendor account"),r.a.createElement("div",{className:"section"},r.a.createElement(_,{vendor:!0,onRegister:function(a){return e.registerVendor(a)},redirectPath:"/",loginPath:"/vendor/login"}))))}))},Z=function(){var e=Object(n.useContext)(C),a=Object(n.useState)(!0),t=Object(c.a)(a,2),s=t[0],l=t[1];return e.signedIn()?(e.logout().then((function(){return l(!1)})),r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,null),r.a.createElement("div",{className:"section container"},r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"hero is-fullheight"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("h2",{className:"is-title is-size-2"},"Thank you for using ",e.name,"!"),s?r.a.createElement("progress",{className:"progress is-small is-info",max:"100"},"loading..."):null)))))):r.a.createElement(L.a,{to:"/"})},$=function(){var e=Object(n.useContext)(C),a=r.a.useState(!0),t=Object(c.a)(a,2);t[0],t[1];return r.a.createElement("div",{style:e.theme.main},r.a.createElement(A,{hideMenu:!0}),r.a.createElement("div",{className:"hero is-fullheight is-black is-bold"},r.a.createElement("div",{className:"hero-body has-text-centered"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title has-text-weight-bold is-2"},"Welcome to ",e.name),r.a.createElement("p",{className:"subtitle"},e.description),r.a.createElement("progress",{className:"progress is-small is-info",max:"100"},"loading")))))},Q=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],s=a[1];return r.a.createElement(S.ToastProvider,{placement:"bottom-center"},r.a.createElement(C.Provider,{value:j},r.a.createElement(C.Consumer,null,(function(e){return e.isReady().then((function(e){return s(e)})),r.a.createElement(P.a,{basename:"/deals"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.d,null,r.a.createElement(L.b,{strict:!0,exact:!0,path:"/vendor/register",component:K}),r.a.createElement(L.b,{strict:!0,exact:!0,path:"/user/register",component:Y}),r.a.createElement(L.b,{strict:!0,exact:!0,path:"/vendor/login",component:G}),r.a.createElement(L.b,{strict:!0,exact:!0,path:"/user/login",component:B}),r.a.createElement(L.b,{strict:!0,exact:!0,path:"/:user/logout",component:Z}),r.a.createElement(L.b,{strict:!0,exact:!0,path:"/",component:W}),r.a.createElement(L.b,{component:I})),r.a.createElement(q,null)):r.a.createElement($,null))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.c9a4f88b.chunk.js.map